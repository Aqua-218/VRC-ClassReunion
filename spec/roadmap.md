# プロジェクトロードマップ

## エグゼクティブサマリー

VRC同期会Discord Botの開発は、**MVP（Minimum Viable Product）ファーストアプローチ**で6ヶ月間のフェーズ分けを行います。Phase 1で最小限の実用機能をリリースし、ユーザーフィードバックを元に段階的に機能拡張します。

### ロードマップ概要

| フェーズ | 期間 | 主要目標 | リリース形態 |
|---------|------|---------|------------|
| **Phase 1: MVP** | 月1-3 | 基本機能の実装・リリース | Alpha版リリース |
| **Phase 2: 拡張** | 月4-5 | 高度な機能追加 | Beta版リリース |
| **Phase 3: 最適化** | 月6 | パフォーマンス改善・本番リリース | v1.0.0正式リリース |
| **Phase 4: 進化** | 月7以降 | 新機能開発・コミュニティ要望対応 | 継続的リリース |

---

## Phase 1: MVP（Minimum Viable Product）

### 期間: 月1-3（12週間）

### 目標
- お誘い募集システムの基本機能を実装
- チケットシステムの基本機能を実装
- 400名規模のコミュニティで安定稼働

### マイルストーン

#### マイルストーン 1.1: プロジェクト基盤構築（週1-2）

**エントリ基準**:
- 開発環境のセットアップ完了
- Discordサーバー・Botアカウント作成

**成果物**:
- [ ] プロジェクト構造の構築
- [ ] TypeScript設定（tsconfig.json、ESLint、Prettier）
- [ ] Prisma ORM セットアップ
- [ ] データベーススキーマ定義
- [ ] 環境変数管理の実装（Zod バリデーション）
- [ ] ログシステムの実装（Winston）
- [ ] discord.js v14 初期化

**エグジット基準**:
- [ ] `npm run dev` でBotが起動し、Discordに接続できる
- [ ] データベースマイグレーションが正常に動作
- [ ] ログが正しく出力される

**担当**: フルスタック開発者  
**リスク**: 技術選定の遅延 → 軽減策: ADRで事前決定

---

#### マイルストーン 1.2: お誘い募集システム - 基本機能（週3-6）

**エントリ基準**:
- マイルストーン 1.1 完了
- フォーラムチャンネル作成済み

**成果物**:
- [ ] 募集作成機能
  - [ ] モーダルUI実装
  - [ ] バリデーション実装（Zod）
  - [ ] フォーラムスレッド自動作成
  - [ ] 埋め込みメッセージ生成
  - [ ] データベース保存
- [ ] 参加管理機能
  - [ ] 参加ボタン実装
  - [ ] 興味ありボタン実装
  - [ ] 参加取り消しボタン実装
  - [ ] 定員到達時の自動無効化
  - [ ] 埋め込みメッセージの動的更新
- [ ] ステータス管理
  - [ ] フォーラムタグの自動付与・更新

**エグジット基準**:
- [ ] エンドツーエンドで募集作成→参加→取り消しが動作
- [ ] 定員到達時に正しく制御される
- [ ] データベースに正しくデータが保存される

**担当**: フルスタック開発者  
**リスク**: Discord API制限 → 軽減策: レート制限監視

---

#### マイルストーン 1.3: お誘い募集システム - 主催者機能（週7-8）

**エントリ基準**:
- マイルストーン 1.2 完了

**成果物**:
- [ ] 募集編集機能
  - [ ] 権限チェック（主催者のみ）
  - [ ] 編集モーダル実装
  - [ ] データベース更新
  - [ ] 埋め込みメッセージ更新
  - [ ] スレッドへの更新通知投稿
- [ ] 募集キャンセル機能
  - [ ] 確認ダイアログ実装
  - [ ] ステータス変更（中止）
  - [ ] 全ボタン無効化
  - [ ] 参加者へのDM通知（オプション）
  - [ ] スレッドアーカイブ

**エグジット基準**:
- [ ] 主催者のみが編集・キャンセルできる
- [ ] 他のユーザーは権限エラーが表示される
- [ ] キャンセル時に参加者に通知される

**担当**: フルスタック開発者  
**リスク**: 権限制御の不具合 → 軽減策: ユニットテスト

---

#### マイルストーン 1.4: グループインスタンス管理（週9-10）

**エントリ基準**:
- マイルストーン 1.3 完了
- スタッフチャンネル作成済み

**成果物**:
- [ ] スタッフ通知機能
  - [ ] グループインスタンス募集の検出
  - [ ] スタッフチャンネルへの通知投稿
  - [ ] 担当割り当てボタン配置
- [ ] 担当割り当て機能
  - [ ] 早押し方式の実装
  - [ ] 重複担当の防止
  - [ ] 募集投稿への担当者名表示
  - [ ] 担当スタッフへのDM送信
- [ ] インスタンス情報入力機能
  - [ ] 入力モーダル実装
  - [ ] 募集投稿への情報表示
  - [ ] 参加者へのDM通知

**エグジット基準**:
- [ ] グループインスタンス募集が作成されるとスタッフに通知
- [ ] スタッフが担当を確定できる
- [ ] インスタンス情報が参加者に配信される

**担当**: フルスタック開発者  
**リスク**: スタッフ対応の遅延 → 軽減策: 通知の視認性向上

---

#### マイルストーン 1.5: チケットシステム（週11）

**エントリ基準**:
- マイルストーン 1.4 完了
- チケットカテゴリ作成済み

**成果物**:
- [ ] チケット作成機能
  - [ ] 作成ボタン配置
  - [ ] カテゴリ選択モーダル
  - [ ] プライベートチャンネル自動生成
  - [ ] 権限設定（作成者+スタッフ）
  - [ ] 初期メッセージ投稿
  - [ ] データベース保存
- [ ] チケットクローズ機能
  - [ ] クローズボタン配置
  - [ ] 確認ダイアログ
  - [ ] チャンネル削除/アーカイブ
  - [ ] データベース更新

**エグジット基準**:
- [ ] チケット作成→対応→クローズのフローが動作
- [ ] 作成者とスタッフのみアクセス可能
- [ ] クローズ後にチャンネルが削除される

**担当**: フルスタック開発者  
**リスク**: チャンネル権限設定の複雑さ → 軽減策: Discord API ドキュメント精読

---

#### マイルストーン 1.6: テスト・デバッグ・Alpha リリース（週12）

**エントリ基準**:
- 全ての主要機能が実装済み

**成果物**:
- [ ] 統合テストの実施
  - [ ] 全ユースケースのエンドツーエンドテスト
  - [ ] エラーハンドリングのテスト
  - [ ] パフォーマンステスト
- [ ] バグ修正
- [ ] ドキュメント整備
  - [ ] ユーザーガイド作成
  - [ ] 管理者マニュアル作成
- [ ] Alpha版リリース
  - [ ] 本番サーバーへのデプロイ
  - [ ] 限定ユーザーでの試験運用

**エグジット基準**:
- [ ] 重大なバグがゼロ
- [ ] ユーザーガイドが整備されている
- [ ] Alpha版が本番環境で稼働

**担当**: フルスタック開発者 + QA（レビュアー）  
**リスク**: 予期しないバグ → 軽減策: 段階的リリース

---

### Phase 1 の主要機能

| 機能 | 優先度 | 実装状態 |
|------|--------|---------|
| 募集作成 | 最高 | ✅ Phase 1 |
| 参加管理 | 最高 | ✅ Phase 1 |
| 募集編集 | 高 | ✅ Phase 1 |
| 募集キャンセル | 高 | ✅ Phase 1 |
| グループインスタンス管理 | 高 | ✅ Phase 1 |
| チケットシステム | 高 | ✅ Phase 1 |
| 自動クローズ | 中 | ❌ Phase 2 |
| リマインダー通知 | 中 | ❌ Phase 2 |
| 統計機能 | 低 | ❌ Phase 3 |

---

## Phase 2: 拡張機能

### 期間: 月4-5（8週間）

### 目標
- 自動化機能の追加
- ユーザー体験の向上
- 管理者向け機能の強化

### マイルストーン

#### マイルストーン 2.1: 自動クローズ機能（週1-2）

**成果物**:
- [ ] 定期実行ジョブの実装（node-cron）
- [ ] 終了日時チェックロジック
- [ ] ステータス自動更新
- [ ] スレッドアーカイブ

**エグジット基準**:
- [ ] 1時間ごとに自動でクローズ処理が実行される

---

#### マイルストーン 2.2: リマインダー通知（週3-4）

**成果物**:
- [ ] 定期チェックジョブ実装
- [ ] 開始1時間前の検出ロジック
- [ ] 参加者へのDM送信
- [ ] 通知内容のカスタマイズ

**エグジット基準**:
- [ ] 開始1時間前に参加者全員にDMが送信される

---

#### マイルストーン 2.3: 統計ダッシュボード（週5-6）

**成果物**:
- [ ] 管理者向けコマンド `/stats` 実装
- [ ] 人気ワールドランキング
- [ ] 開催頻度の高い主催者ランキング
- [ ] 月次レポート生成

**エグジット基準**:
- [ ] 管理者が統計情報を確認できる

---

#### マイルストーン 2.4: 検索機能（週7-8）

**成果物**:
- [ ] `/search` コマンド実装
- [ ] ワールド名での絞り込み
- [ ] 日時範囲での絞り込み
- [ ] カテゴリでの絞り込み

**エグジット基準**:
- [ ] 過去の募集を検索できる

---

### Phase 2 リリース: Beta版

**目標日**: 月5末  
**形態**: 全メンバーに公開、フィードバック収集

---

## Phase 3: 最適化・本番リリース

### 期間: 月6（4週間）

### 目標
- パフォーマンス最適化
- セキュリティ強化
- 本番リリース

### マイルストーン

#### マイルストーン 3.1: パフォーマンス最適化（週1-2）

**成果物**:
- [ ] データベースクエリの最適化
- [ ] キャッシュ戦略の実装
- [ ] Discord API呼び出しの最適化
- [ ] メモリリークの修正

**エグジット基準**:
- [ ] P95応答時間が500ms以内
- [ ] メモリ使用量が500MB以下

---

#### マイルストーン 3.2: セキュリティ強化（週2-3）

**成果物**:
- [ ] セキュリティ監査の実施
- [ ] 脆弱性スキャン
- [ ] 依存関係の更新
- [ ] セキュリティテストの実施

**エグジット基準**:
- [ ] 既知の脆弱性がゼロ

---

#### マイルストーン 3.3: ドキュメント整備・本番リリース（週3-4）

**成果物**:
- [ ] 全ドキュメントの最新化
- [ ] リリースノート作成
- [ ] トラブルシューティングガイド
- [ ] v1.0.0 本番リリース

**エグジット基準**:
- [ ] ドキュメントが完全に整備されている
- [ ] v1.0.0が正式リリースされている

---

## Phase 4: 進化（継続的開発）

### 期間: 月7以降

### 目標
- コミュニティ要望への対応
- 新機能の開発
- 継続的な改善

### 候補機能

| 機能 | 優先度 | 実装時期 |
|------|--------|---------|
| Google Calendar連携 | 中 | 月7-8 |
| VRChat API連携 | 中 | 月9-10 |
| ユーザー個別通知設定 | 低 | 月11-12 |
| 多言語対応 | 低 | 未定 |
| Webダッシュボード | 低 | 未定 |

---

## リスク管理

### 主要リスク

| リスク | 影響度 | 発生確率 | 軽減策 | 担当 |
|--------|--------|---------|--------|------|
| 開発者の離脱 | 高 | 中 | ドキュメント充実、コードの可読性向上 | プロジェクトマネージャー |
| Discord API変更 | 高 | 低 | discord.js最新版追従、公式発表監視 | 技術リード |
| スコープクリープ | 中 | 高 | MVPに集中、Phase分けの厳守 | プロジェクトマネージャー |
| パフォーマンス問題 | 中 | 中 | Phase 3で最適化、早期性能テスト | 技術リード |

---

## 依存関係

### クリティカルパス

```
マイルストーン 1.1（基盤）
  ↓
マイルストーン 1.2（募集基本）
  ↓
マイルストーン 1.3（主催者機能）
  ↓
マイルストーン 1.4（スタッフ管理）
  ↓
マイルストーン 1.5（チケット）← 並行可能
  ↓
マイルストーン 1.6（Alpha）
```

### 並行作業可能

- マイルストーン 1.5（チケット）は 1.4 と並行実装可能

---

## リソース計画

### 開発体制

| ロール | 人数 | 稼働率 | 備考 |
|--------|------|--------|------|
| フルスタック開発者 | 1-2名 | 50-100% | ボランティア |
| QAレビュアー | 1名 | 20% | Phase 1.6以降 |
| プロジェクトマネージャー | 1名 | 20% | ロードマップ管理 |

### 工数見積もり

| フェーズ | 工数（人時） | 期間 |
|---------|------------|------|
| Phase 1 | 240時間 | 12週間 |
| Phase 2 | 160時間 | 8週間 |
| Phase 3 | 80時間 | 4週間 |
| **合計** | **480時間** | **24週間（6ヶ月）** |

---

## 成功指標（再掲）

### Phase 1（Alpha版）

- [ ] アップタイム 95%以上
- [ ] 月間イベント開催数 30件以上
- [ ] 重大バグゼロ

### Phase 2（Beta版）

- [ ] アップタイム 99%以上
- [ ] 月間イベント開催数 50件以上
- [ ] ユーザー満足度 4.0/5.0以上

### Phase 3（v1.0.0）

- [ ] アップタイム 99.9%以上
- [ ] 月間イベント開催数 50件以上
- [ ] ユーザー満足度 4.5/5.0以上
- [ ] スタッフ作業時間 50%削減

---

## 関連ドキュメント

- [要件定義](./requirements.md)
- [アーキテクチャ概要](./architecture/overview.md)
- [テスト戦略](./testing/strategy.md)
- [デプロイメントガイド](./deployment/infrastructure.md)

---

**最終更新**: 2025年11月16日  
**ドキュメントバージョン**: 1.0.0  
**承認者**: -
